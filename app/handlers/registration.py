# Telegram Control Bot
# Copyright (C) 2025 Eklipti
#
# Этот проект — свободное программное обеспечение: вы можете
# распространять и/или изменять его на условиях
# Стандартной общественной лицензии GNU (GNU GPL)
# третьей версии, опубликованной Фондом свободного ПО.
#
# Программа распространяется в надежде, что она будет полезной,
# но БЕЗ КАКИХ-ЛИБО ГАРАНТИЙ; даже без подразумеваемой гарантии
# ТОВАРНОГО СОСТОЯНИЯ или ПРИГОДНОСТИ ДЛЯ КОНКРЕТНОЙ ЦЕЛИ.
# Подробности см. в Стандартной общественной лицензии GNU.
#
# Вы должны были получить копию Стандартной общественной
# лицензии GNU вместе с этой программой. Если это не так,
# см. <https://www.gnu.org/licenses/>.

"""
Единое место регистрации всех handlers для избежания циклических импортов.
Все handlers регистрируются через декораторы @router.message/@router.callback_query
в своих модулях, поэтому импорта модулей достаточно для их активации.
"""

from aiogram import Dispatcher

# Импортируем все handlers для активации декораторов
from . import (
    attachments,
    auth,
    cancel,
    cmd,
    command_search,
    files,
    help,
    logs_export,
    menu,
    monitor,
    mouse_keyboard,
    paths_handlers,
    processes,
    remote_desktop,
    screen,
    security_handlers,
    stats,
    system,
)


def register_all_handlers(dp: Dispatcher) -> None:
    """
    Регистрирует все handlers в Dispatcher.
    
    Фактически, все handlers уже зарегистрированы через декораторы при импорте модулей выше.
    Эта функция существует для явного вызова из app.py и обеспечения
    правильного порядка инициализации.
    """
    # Handlers уже зарегистрированы через декораторы при импорте
    pass
